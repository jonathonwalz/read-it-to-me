"use strict";function initSynthesis(e,n){var t=[],i=!1;if(e||"undefined"==typeof speechSynthesis||(e=speechSynthesis),e){var a={play:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=new SpeechSynthesisUtterance(n.text);if(a.lang="en-US",a.rate=.8,t.length>0)for(var o=0;o<t.length;o++)if(0===t[o].lang.indexOf("en")&&"Samantha"===t[o].name){a.voice=t[o];break}a.onend=function(){return i(null,n)},a.onerror=function(e){setTimeout(function(){return i(e.error||new Error("Unknown speech synthesis error"),n)},100)},e.speak(a)},pause:function(){e.pause()},resume:function(){e.resume()},cancel:function(){e.cancel()}};0===(t=e.getVoices()).length&&(void 0!==e.onvoiceschanged?e.onvoiceschanged=function(){t=e.getVoices(),n(null,a)}:i=!0),e.cancel(),!t.length&&i?n(new Error("Unable to load voice list")):t.length&&n(null,a)}else n(new Error("Speech Synthesis is unavailable."))}Object.defineProperty(exports,"__esModule",{value:!0});var groupClassName="read-it-to-me-content-group",focusClassName="focusin",contentQueue=[],ritmEnabled=!0,eventsBin={play:null,pause:null,cancel:null,toggle:null},makeElemTabable=function(e){e.hasAttribute("tabindex")?e.classList.contains("ritm-do-not-strip-tabindex")||e.classList.add("ritm-do-not-strip-tabindex"):e.setAttribute("tabindex","0")};function init(e){(e&&document.querySelectorAll(e).length>0||document.querySelectorAll(".".concat(groupClassName)).length>0)&&initSynthesis(void 0,function(n,t){!n&&t?(e&&document.querySelectorAll(e).length>0&&document.querySelectorAll(e).forEach(function(e){e.classList.add(groupClassName)}),document.querySelectorAll(".".concat(groupClassName)).forEach(function(e){makeElemTabable(e)})):document.querySelectorAll(".".concat(groupClassName)).forEach(function(e){e.classList.remove(groupClassName,focusClassName)})})}function isEnabled(){return ritmEnabled}function currentUtteranceIdentifier(){return!(!contentQueue[0]||!contentQueue[0].dataset.ritmOptionalTrackingIdentifier||""===contentQueue[0].dataset.ritmOptionalTrackingIdentifier)&&contentQueue[0].dataset.ritmOptionalTrackingIdentifier}function eventTracking(e){e&&(e.play&&"function"==typeof e.play&&(eventsBin.play=e.play),e.pause&&"function"==typeof e.pause&&(eventsBin.pause=e.pause),e.cancel&&"function"==typeof e.cancel&&(eventsBin.cancel=e.cancel),e.toggle&&"function"==typeof e.toggle&&(eventsBin.toggle=e.toggle))}exports.currentUtteranceIdentifier=currentUtteranceIdentifier,exports.eventTracking=eventTracking,exports.init=init,exports.isEnabled=isEnabled;
//# sourceMappingURL=read-it-to-me.cjs.js.map
