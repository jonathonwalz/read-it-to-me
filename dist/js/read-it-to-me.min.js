!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).ReadItToMe={})}(this,function(e){"use strict";var n="read-it-to-me-content-group",t="focusin",o=[],i=!0,c={play:null,pause:null,cancel:null,toggle:null},r=function(e){e.hasAttribute("tabindex")?e.classList.contains("ritm-do-not-strip-tabindex")||e.classList.add("ritm-do-not-strip-tabindex"):e.setAttribute("tabindex","0")};e.currentUtteranceIdentifier=function(){return!(!o[0]||!o[0].dataset.ritmOptionalTrackingIdentifier||""===o[0].dataset.ritmOptionalTrackingIdentifier)&&o[0].dataset.ritmOptionalTrackingIdentifier},e.eventTracking=function(e){e&&(e.play&&"function"==typeof e.play&&(c.play=e.play),e.pause&&"function"==typeof e.pause&&(c.pause=e.pause),e.cancel&&"function"==typeof e.cancel&&(c.cancel=e.cancel),e.toggle&&"function"==typeof e.toggle&&(c.toggle=e.toggle))},e.init=function(e){(e&&document.querySelectorAll(e).length>0||document.querySelectorAll(".".concat(n)).length>0)&&function(e,n){var t=[],o=!1;if(e||"undefined"==typeof speechSynthesis||(e=speechSynthesis),e){var i={play:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=new SpeechSynthesisUtterance(n.text);if(i.lang="en-US",i.rate=.8,t.length>0)for(var c=0;c<t.length;c++)if(0===t[c].lang.indexOf("en")&&"Samantha"===t[c].name){i.voice=t[c];break}i.onend=function(){return o(null,n)},i.onerror=function(e){setTimeout(function(){return o(e.error||new Error("Unknown speech synthesis error"),n)},100)},e.speak(i)},pause:function(){e.pause()},resume:function(){e.resume()},cancel:function(){e.cancel()}};0===(t=e.getVoices()).length&&(void 0!==e.onvoiceschanged?e.onvoiceschanged=function(){t=e.getVoices(),n(null,i)}:o=!0),e.cancel(),!t.length&&o?n(new Error("Unable to load voice list")):t.length&&n(null,i)}else n(new Error("Speech Synthesis is unavailable."))}(void 0,function(o,i){!o&&i?(e&&document.querySelectorAll(e).length>0&&document.querySelectorAll(e).forEach(function(e){e.classList.add(n)}),document.querySelectorAll(".".concat(n)).forEach(function(e){r(e)})):document.querySelectorAll(".".concat(n)).forEach(function(e){e.classList.remove(n,t)})})},e.isEnabled=function(){return i},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=read-it-to-me.min.js.map
